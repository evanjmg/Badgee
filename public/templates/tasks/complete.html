<div ng-controller="TasksController as tasks">

      <div ng-hide="showCamera" id="createTaskMainForm">
      <h2>Complete {{tasks.task._creator.name}}'s Challenge</h2>
      <div class="form-group">
        <label for="challenge">Your Response:</label>
        <input type="text" placeholder="Explain the challenge, did you eat spicy pizza?" ng-model="tasks.task.completion.message" name="description" class="form-control">
      </div>
      <div class="form-group">
        <label for="location.name">Where did it happen?</label>
        <input type="text" ng-model="tasks.task.completion.location.name" placeholder="Where is it? e.g. Pizza Express, London" class="form-control">
      </div>
        <div class="row">
          <div class="col-xs-4">
            <a ng-click="tasks.startCamera()" id="showCameraButton"class="btn btn-info">Take a Photo</a>
          </div>
          <div class="col-xs-4 text-center fadedText">
           OR 
         </div>
         <div class="col-xs-4">
          <section>
            <file-field  ng-model="uploadFile" preview="previewImage" class="btn-info btn center-block" id="uploadFileButton" file>Upload File</file-field>
          </section>
        </div>
      </div>
      <br/>
      <p class="form-group">
      <a ng-click="tasks.completeTask()" class="btn btn-success">Submit Your Response</a>
      </p>
      </div>


      <section ng-if="showCamera == true">
        <div class="camera">
          <section class="video">
            <button class="btn" id="cancelPhoto" ng-click="tasks.exitCapture()" >X</button>
            <video id="video">Video stream not available.</video>
            <canvas id="canvas"></canvas>
            <a ng-click="tasks.takePicture()" id="start-button" class="btn-info btn"><img id='camera-icon' src="/images/white-camera.png" alt=""></a>
          </section>
          <div class="row cameraOptionButtons">
            <div class="col-xs-6">
              <a id="sendPhoto" class="btn-success btn" value="Upload" ng-click="tasks.upload()">Upload</a>
            </div>
            <div class="col-xs-6">
              <a class='pull-right' id="retakeButton" class="btn-info btn-warning" ng-click="tasks.retakePhoto()">Retake</a>
            </div>
          </div>
        </div>
      </section>
 
  </div>
</div>



